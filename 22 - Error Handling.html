<!DOCTYPE html>
<html>
<head>
	<title>22 - Error Handling</title>
</head>
<body>
	<script type="text/javascript">
		
		class MathUtil{

			static sum(...numbers) {
				if(numbers.length === 0){
					throw new Error("Parameter numbers harus lebih dari 0");
				}

				let total = 0;
				for(const number of numbers){  //var number = 0; number<=numbers.length; number++
					total += number;
				}
				return total;
			}
		}

// Error handling

		try{ // selalu mencoba dieksekusi
			console.info(MathUtil.sum(1,3));
			console.info("Eko");
		}catch(Error){ // dieksekusi jika program try error
			console.error(`Error : ${Error.message}`);
		} finally{ // selalu dieksekusi apapun hasil try catch
			console.info("program selesai");
		}

		const coba2 = MathUtil.sum(1,2,3,4);
		console.info(coba2);


		class Counter{

			#counter = 1;

			next(){
				try{
					return this.#counter; 
				}finally {
					this.#counter++;
				}

			}
		}

		const counter = new Counter();

		console.info(counter.next());
		console.info(counter.next());
		console.info(counter.next());
		console.info(counter.next());
		console.info(counter.next());


	</script>

</body>
</html>